
<div class="jumbotron jcolor">
  <div class="container">
    <h1>Pull API Test</h1>
    <p>Enter API call into the field below and click submit</p>
  </div>
</div>

<div class="container theme-showcase" role="main">
<form class="form-horizontal" method="POST" id="apiForm">
  <div class="form-group">
      <label for="url" class="col-md-3 control-label">https://io.catchpoint.com/ui/api/v1/</label>
      <div class="col-md-7">
          <input type="text" class="form-control" id="call" name="call" placeholder="API Call">
      </div>
      <div class="col-md-2">
          <button type="submit" id="submit" class="btn btn-primary">Submit</button>
      </div>
  </div>
</form>
<hr />
<pre id="apiResult"></pre>
<div id="loading"></div>
</div>
<script>
$(document).ready(function(){
    $("pre").hide();
    $("#loading").hide();
    $("#apiForm").submit(function(e){
        $("pre").hide();
        $("#loading").show();
        e.preventDefault();
        call = $("#call").val();
        $.ajax({
            type: "POST",
            url: "/pull/api/call/" + call,
            success: function(data){
                $("pre").show();
                $("#loading").hide();
                $("#apiResult").html(data);
            },
            error: function (request, status, error) {
                $("pre").html(error);
            }
        })
    })
})
</script>
